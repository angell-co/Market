<div>
    <label for="field-{{ field.id }}" class="block text-sm font-medium text-gray-700">
        {{ field.name }}
        {% if field.required %} <span class="text-red-600">*</span>{% endif %}
    </label>

    {{ hiddenInput('fields['~field.handle~']', '') }}

    {% set value = element.getFieldValue(field.handle) %}
    {% set selectedIds = value ? value.ids()|join(',') : '' %}

    <pre>{{ dump(selectedIds) }}</pre>

    {{ sprig('_market/_components/assets/field', {
        _fieldId: field.id,
        _fieldHandle: field.handle,
        _fieldLimit: field.limit,
        selectedIds: value.ids()|join(',')
    }, {
        id: 'field-'~field.id,
        class: 'field-assets'
    }) }}

    {% if field.instructions %}
        <p class="mt-2 text-sm text-gray-500">{{ field.instructions }}</p>
    {% endif %}
</div>
