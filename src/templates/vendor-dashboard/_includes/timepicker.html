<div x-data="Market.timepickerField()"
     x-init="[initTime('{{ value }}')]"
     x-cloak
     class="mt-1 relative rounded-md shadow-sm"
>
    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
        {# Heroicon name: time #}
        <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
        </svg>
    </div>

    <input type="text"
           name="{{ attribute }}"
           value="{{ value }}"
           x-model="timepickerValue"
           placeholder="Select time"
           class="focus:ring-action-500 focus:border-action-500 block w-full pl-10 pr-10 sm:text-sm border-gray-300 rounded-md"
    >
    <div class="absolute inset-y-0 right-0 flex items-center">
        <label for="{{ attribute }}-time" class="sr-only">Time</label>
        <select id="{{ attribute }}-time"
                x-model="timepickerValue"
                class="focus:ring-action-500 focus:border-action-500 h-full w-3 py-0 pl-2 pr-7 border-transparent bg-transparent text-gray-500 sm:text-sm rounded-md"
        >
            <option value=""></option>
            {% set time = now|date_modify('12am') %}
            {% for n in 0..23 %}
                <option value="{{ time|date_modify('+'~n~' hours')|date('g:i A') }}">{{ time|date_modify('+'~n~' hours')|date('g:i A') }}</option>
                <option value="{{ time|date_modify('+'~n~' hours 30 mins')|date('g:i A') }}">{{ time|date_modify('+'~n~' hours 30 mins')|date('g:i A') }}</option>
            {% endfor %}
        </select>
    </div>
</div>
